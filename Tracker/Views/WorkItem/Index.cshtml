@model IEnumerable<WorkItem>


@{
    ViewData["Title"] = "Index";
}

<div class="row">
    <div class="col-12 text-right">
        <partial name="_CreateButton" />
    </div>
</div>
<div class="row">
    <div class="col-4">
        <h2>Open Tasks</h2>
        @if (Model.Count() > 0)
        {
            var open = 0;
            <ul>
                @foreach (var item in Model)
                {
                    @if (item.Status == "Open")
                    {
                        open++;
                        <li>
                            <div class="col">
                                @Html.DisplayFor(m => item.Type)
                            </div>
                            <div class="col-4">
                                <partial name="_TableButtonPartial" model="item.Id" />
                            </div>
                        </li>
                    }
                }
                @if (open == 0)
                {
                    <p>No Tasks Yet...</p>
                }
            </ul>
        }
        
    </div>
    <div class="col-4">
        <h2>In Progress</h2>
        @if (Model.Count() > 0)
        {
            var inProgress = 0;
            <ul>
                @foreach (var item in Model)
                {
                    @if (item.Status == "In Progress")
                    {
                        inProgress++;
                        <li>
                            <div class="col">
                                @Html.DisplayFor(m => item.Type)
                            </div>
                            <div class="col-4">
                                <partial name="_TableButtonPartial" model="item.Id" />
                            </div>
                        </li>
                    }
                }
                @if (inProgress == 0)
                {
                    <p>No Tasks In Progress...</p>
                }
            </ul>
        }
    </div>
    <div class="col-4">
        <h2>Closed</h2>
        @if (Model.Count() > 0)
        {
            var closed = 0;
            <ul>
                @foreach (var item in Model)
                {
                    @if (item.Status == "Closed")
                    {
                        closed++;
                        <li>
                            <div class="col" >
                                @Html.DisplayTextFor(m => item.Type)
                            </div>
                            <div class="col-4">
                                <partial name="_TableButtonPartial" model="item.Id" />
                            </div>
                        </li>
                    }
                }
                @if(closed == 0)
                {
                    <p>No Tasks Closed...</p>
                }
            </ul>
        }
    </div>
</div>










